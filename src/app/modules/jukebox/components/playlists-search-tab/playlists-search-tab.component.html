<div *ngIf="!selectedPlaylist" class="h-100">
    <div class="text-center pt-2">
        <span class="help-text">Choose a Playlist</span>
    </div>
    <div class="overflow-auto" style="height: 95%">
        <div *ngFor="let playlist of playlists" class="playlists-list-item p-3" (click)="selectPlaylist(playlist)">
            <p class="playlist-name mb-0">{{ playlist.name }}</p>
        </div>
    </div>
</div>
<div *ngIf="selectedPlaylist">
    <div class="d-flex pt-2">
        <div class="col">
            <button class="btn btn-outline-secondary" (click)="selectedPlaylist = null">Back</button>
        </div>
        <div class="col-sm-auto">
            <p class="text-center selected-playlist-name mb-0">{{ selectedPlaylist.name }}</p>
        </div>
        <app-bx-button *appAcl="'addVideo'" (click)="submitPlaylist(selectedPlaylist._id)"
            class="panel-tab-title-button col"
            [options]="{'type': 'play', 'textDisplay': 'tooltip', 'text': 'Queue the whole playlist', 'context': 'queue'}">
        </app-bx-button>
    </div>
    <div class="p-3 input-group">
        <input type="text" class="form-control" placeholder="Type to search in the playlist..." #filterInput>
        <div class="input-group-append">
            <button class="btn btn-outline-default" type="button" (click)="resetFilter()">Reset</button>
        </div>
    </div>
    <div *ngIf="selectedPlaylist.videos.length > 0; else noFavorites" class="selected-playlist-items"
        [ngClass]="{'is-searching': filterValue !== ''}">
        <app-video-entry *ngFor="let video of selectedPlaylist.videos | filter:filterValue:['name', 'link']"
            [video]="video"
            [options]="{'submit': videosInQueue.indexOf(video.link) === -1, 'inQueue': videosInQueue.indexOf(video.link) !== -1, 'berries': this.berriesEnabled, 'forcePlay': true, 'forceNext': true}"
            (submit)="submitVideo($event)"></app-video-entry>
    </div>
    <ng-template #noFavorites>
        <div class="text-center no-contents">
            <svg class="empty-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500">
                <g id="add-to-library-icon">
                    <rect class="cls-1" x="21.7" y="32.51" width="456.59" height="56.04" />
                    <rect class="cls-1" x="21.7" y="125.53" width="456.59" height="56.04" />
                    <rect class="cls-1" x="21.7" y="218.55" width="184.3" height="56.04" />
                    <rect class="cls-1" x="21.7" y="311.57" width="184.3" height="56.04" />
                    <rect class="cls-1" x="21.7" y="404.59" width="184.3" height="56.04" />
                    <rect class="cls-1" x="237.35" y="316.28" width="228.3" height="45.21" />
                    <rect class="cls-1" x="237.35" y="316.28" width="228.3" height="45.21"
                        transform="translate(690.39 -12.61) rotate(90)" />
                </g>
            </svg>
            <h3>This playlist is empty :(</h3>
        </div>
    </ng-template>
</div>