<div class="panel-tab-title-section">
    <div class="col"></div>
    <p class="panel-tab-title col">Users</p>
    <div class="col pr-0">
        <app-bx-button (click)="openInviteModal()" *ngIf="permissions.includes('inviteUser')"
            class="panel-tab-title-button"
            [options]="{'type': 'inviteUser', 'textDisplay': 'tooltip', 'context': 'queue', 'text': 'Invite users'}">
        </app-bx-button>
    </div>
</div>
<div class="userlist">
    <div class="d-lg-none text-center py-2">
        <app-bx-button (click)="openInviteModal()" *ngIf="permissions.includes('inviteUser')"
            [options]="{'type': 'inviteUser', 'textDisplay': 'button', 'context': 'queue', 'text': 'Invite users'}">
        </app-bx-button>
    </div>
    <div *ngIf="admin">
        <div class="role-title-container my-2">
            <img src="../../../../../assets/images/badges/creator-badge.png" alt="">
            <p class="role-title mb-0">Creator</p>
        </div>
        <div class="d-flex align-items-center">
            <app-profile-picture [fileName]="admin.settings.picture" [size]="'md'"></app-profile-picture>
            <span class="ml-3 user-name">{{ admin.name }}</span>
        </div>
    </div>
    <div *ngIf="moderators.length > 0" class="mt-5">
        <div class="role-title-container my-2">
            <img src="../../../../../assets/images/badges/moderator-badge.png" alt="">
            <p class="role-title mb-0">Moderators - {{ moderators.length }}</p>
        </div>
        <div *ngFor="let moderator of moderators" class="user-item my-1 d-flex">
            <div class="d-flex w-100 align-items-center justify-content-between">
                <div>
                    <app-profile-picture [fileName]="moderator.settings.picture" [size]="'md'"></app-profile-picture>
                    <span class="ml-3 user-name">{{ moderator.name }}</span>
                </div>
                <app-role-selector *ngIf="moderator._id !== user._id" [availableActions]="permissions"
                    [context]="'moderator'" (selectedRole)="changeRole(moderator._id, $event)"></app-role-selector>
            </div>
        </div>
    </div>
    <div *ngIf="vips.length > 0" class="mt-5">
        <div class="role-title-container my-2">
            <img src="../../../../../assets/images/badges/vip-badge.png" alt="">
            <p class="role-title mb-0">VIPs - {{ vips.length }}</p>
        </div>
        <div *ngFor="let vip of vips" class="user-item my-1 d-flex">
            <div class="d-flex w-100 align-items-center justify-content-between">
                <div>
                    <app-profile-picture [fileName]="vip.settings.picture" [size]="'md'"></app-profile-picture>
                    <span class="ml-3 user-name">{{ vip.name }}</span>
                </div>
                <app-role-selector *ngIf="vip._id !== user._id" [availableActions]="permissions" [context]="'vip'"
                    (selectedRole)="changeRole(vip._id, $event)"></app-role-selector>
            </div>
        </div>
    </div>
    <div *ngIf="community.length > 0" class="mt-5">
        <div class="role-title-container my-2">
            <p class="role-title mb-0">Community Members - {{ community.length }}</p>
        </div>
        <div *ngFor="let member of community" class="user-item my-1 d-flex">
            <div class="d-flex w-100 align-items-center justify-content-between">
                <div>
                    <app-profile-picture [fileName]="member.settings.picture" [size]="'md'"></app-profile-picture>
                    <span class="ml-3 user-name">{{ member.name }}</span>
                </div>
                <app-role-selector *ngIf="member._id !== user._id" [availableActions]="permissions" [context]="'simple'"
                    (selectedRole)="changeRole(member._id, $event)"></app-role-selector>
            </div>
        </div>
    </div>
    <ng-template #loading>Loading users...</ng-template>
</div>