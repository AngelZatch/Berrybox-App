<div class="row no-gutters">
    <div class="col-11">
        <div class="panel-title text-center">{{activePanel}}</div>
        <div class="box-side-panel" id="chat-space" *ngIf="activePanel == 'chat'">
            <p *ngFor="let message of messages; let i = index" class="message">
                <span class="message-time" title="{{message.time}}">{{message.time | date: 'HH:mm'}}</span>
                <a href="">
            <span class="message-author author-linkback"
            [ngStyle]="{'color': '#'+message.author_color}">{{message.author}}</span>
        </a> {{message.contents}}
                <br>
            </p>
        </div>
        <div class="box-side-panel" id="queue-panel" *ngIf="activePanel == 'queue'">
            <div class="playlist-actions row">
                <div class="col">
                    <button class="btn btn-default btn-admin btn-block">
                        <svg class="berrybox-svg-button" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 402.39 385.88" (click)="requestSkip()">
                            <polygon points="334.18 192.94 0 0 0 385.88 334.18 192.94" />
                            <rect width="68.21" height="385.88" x="334.18" />
                        </svg>
                        Next
                    </button>
                </div>
                <div class="col">
                    <button class="btn btn-default btn-admin btn-block">Shuffle</button>
                </div>
            </div>
            <div *ngFor="let video of playlist; let i = index; let first = first">
                <p class="list-rank" *ngIf="(video.video_status == 0 || video.video_status == 3) && first">UPCOMING: </p>
                <p class="list-rank rank-playing" *ngIf="video.video_status == 1">NOW PLAYING: </p>
                <p class="list-rank" *ngIf="video.video_status == 2 && playlist[i - 1].video_status != 2 && !first">PLAYED: </p>
                <div class="row playlist-entry no-gutters" [ngClass]="{'song-playing': video.video_status == 1,
                                'song-played': video.video_status == 2,
                                'song-ignored': video.video_status == 3}">
                    <div class="ngClass" [ngClass]="{'col-9': video.video_status != 1 && video.video_status != 2 && !first,
                                            'col-10': video.video_status == 0 && first,
                                            'col-11': video.video_status == 2,
                                            'col-12': video.video_status == 1}">
                        <p class="song-list-line">
                            <a href="https://youtube.com/watch?v={{video.link}}" title="{{video.video_name}}">{{video.video_name}}</a>
                        </p>
                    </div>
                    <div class="col-1" *ngIf="(video.video_status == 0 || video.video_status == 3) && !first" title="Play later" (click)="swap(video, 'up')">
                        <svg class="berrybox-svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 290 448.37">
                            <polygon points="145 0 0 201.87 290 201.87 145 0" />
                            <rect width="307.91" height="121.43" x="96.05" y="252.66" transform="rotate(-90 188.02 356.39)" />
                        </svg>
                    </div>
                    <div class="col-1" *ngIf="video.video_status == 0 || video.video_status == 3">
                        <div *ngIf="(video.video_status == 0 || video.video_status == 3) && playlist[i + 1].video_status != 1" title="Play sooner"
                            (click)="swap(video, 'down')">
                            <svg class="berrybox-svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 290 448.37">
                                <polygon points="145 448.37 290 246.5 0 246.5 145 448.37" />
                                <rect width="307.91" height="121.43" x="93.05" y="127.2" transform="rotate(90 212.98 119.93)" />
                            </svg>
                        </div>
                        <div *ngIf="video.video_status == 0 && playlist[i + 1].video_status == 1" title="Play now" (click)="emitSkip()">
                            <svg class="berrybox-svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 290 448.37">
                                <polygon points="145 448.37 290 246.5 0 246.5 145 448.37" />
                                <rect width="307.91" height="121.43" x="93.05" y="127.2" transform="rotate(90 212.98 119.93)" />
                            </svg>
                        </div>
                    </div>
                    <div class="col-1" *ngIf="video.video_status == 0" title="Ban" (click)="banVideo(video)">
                        <svg class="berrybox-svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 449.33 449.33">
                            <circle cx="224.67" cy="224.67" r="205.67" fill="none" stroke-width="38" stroke-miterlimit="10" />
                            <rect width="402" height="44" x="49" y="228" transform="rotate(-45 206.756 267.92)" />
                        </svg>
                    </div>
                    <div class="col-1" *ngIf="video.video_status == 3" title="Unban" (click)="unbanVideo(video)">
                        <svg class="berrybox-svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 449.33 449.33">
                            <circle cx="224.67" cy="224.67" r="205.67" fill="none" stroke-width="38" stroke-miterlimit="10" />
                            <rect width="249.37" height="44" x="156.48" y="242" transform="rotate(-45 229.768 274.297)" />
                            <rect width="131.52" height="44" x="111.41" y="283.25" transform="rotate(-135 159.095 293.21)" />
                        </svg>
                    </div>
                    <div class="col-1" *ngIf="video.video_status == 2" title="Queue again">
                        <svg class="berrybox-svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 457.98 202.99" (click)="quickQueue(video.link)">
                            <rect width="64.36" height="121.43" y="40.78" />
                            <polygon points="457.98 101.49 316.68 0 316.68 202.99 457.98 101.49" />
                            <rect width="64.36" height="121.43" x="81.45" y="40.78" />
                            <rect width="168.34" height="121.43" x="162.89" y="40.78" />
                        </svg>
                    </div>
                </div>
            </div>
        </div>
        <div class="box-side-panel" id="like-panel" *ngIf="activePanel == 'likes'">
            <div class="row playlist-entry no-gutters" *ngFor="let video of likes; let i = index;">
                <p class="song-list-line col-11">
                    <a href="https://youtube.com/watch?v={{video.link}}" title="{{video.video_name}}">{{video.video_name}}</a>
                </p>
                <div class="col-1" title="Queue">
                    <svg class="berrybox-svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 457.98 202.99" (click)="quickQueue(video.link)">
                        <rect width="64.36" height="121.43" y="40.78" />
                        <polygon points="457.98 101.49 316.68 0 316.68 202.99 457.98 101.49" />
                        <rect width="64.36" height="121.43" x="81.45" y="40.78" />
                        <rect width="168.34" height="121.43" x="162.89" y="40.78" />
                    </svg>
                </div>
            </div>
        </div>
        <div class="box-side-panel" *ngIf="activePanel == 'users'">

        </div>
    </div>
    <div class="col-1" id="chat-widget-menu">
        <ul class="nav flex-column">
            <li class="nav-item" [ngClass]="{'active': activePanel == 'chat'}">
                <a class="nav-link" (click)="showPanel('chat')" title="Chat">
                    <svg class="berrybox-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 434.16 360.68">
                        <path class="berrybox-path" d="M434.16 0H0v283.32h68.05l-34.87 77.36 171.63-77.36h229.35V0" />
                    </svg>
                </a>
            </li>
            <li class="nav-item" [ngClass]="{'active': activePanel == 'queue'}">
                <a class="nav-link" (click)="showPanel('queue')" title="Queue">
                    <svg class="berrybox-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 475.55 428.13">
                        <path class="berrybox-path" d="M475.56 307.09L293.21 201.81v210.56l182.35-105.28M0 0h456.59v56.04H0zM0 93.02h456.59v56.04H0zM0 186.04h269.23v56.04H0zM0 279.07h269.23v56.04H0zM0 372.09h269.23v56.04H0z"
                        />
                    </svg>
                </a>
            </li>
            <li class="nav-item" [ngClass]="{'active': activePanel == 'users'}">
                <a class="nav-link" (click)="showPanel('users')" title="Users">
                    <svg class="berrybox-svg" style="height: 1.5em;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 334.45 460">
                        <path class="berrybox-path" d="M271.41 190.25a63 63 0 0 0-63 63v190.17h126.04V253.28a63 63 0 0 0-63.04-63.03z" />
                        <circle class="berrybox-path" cx="268.81" cy="129.3" r="52.62" />
                        <path class="berrybox-path" d="M66.15 185.75A66.15 66.15 0 0 0 0 251.9v199.52h132.29V251.89a66.15 66.15 0 0 0-66.14-66.14z"
                        />
                        <circle class="berrybox-path" cx="63.41" cy="121.79" r="55.21" />
                        <path class="berrybox-path" d="M170.23 145.13a78.39 78.39 0 0 0-78.39 78.39V460h156.78V223.52a78.39 78.39 0 0 0-78.39-78.39z"
                        />
                        <circle class="berrybox-path" cx="166.98" cy="65.44" r="65.44" />
                    </svg>
                </a>
            </li>
            <li class="nav-separator my-1"></li>
            <li class="nav-item" [ngClass]="{'active': activePanel == 'likes'}">
                <a class="nav-link" (click)="showPanel('likes')" title="Likes">
                    <svg class="berrybox-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 408 408.09">
                        <path class="berrybox-path" d="M408 129.05c0 92-135.88 225.81-185.85 271.92a26.76 26.76 0 0 1-36.3 0C135.88 354.89 0 221.05 0 129.05c0-111 115.51-188.38 200.28-62.41a4.73 4.73 0 0 0 7.72.18c96.55-130.09 200-48.87 200 62.23z"
                        />
                    </svg>
                </a>
            </li>
        </ul>
    </div>
</div>
<div id="input-space">
    <span class="input-mode" id="span-default-mode" *ngIf="!hasLink && !hasCommand">DEFAULT MODE </span>
    <div *ngIf="!hasLink && hasCommand">
        <span class="input-mode" id="span-command-mode">COMMAND MODE </span>
        <span class="key-commands">Use <kbd>Ctrl + Enter</kbd> to send as text</span>
    </div>
    <div *ngIf="hasLink && !hasCommand">
        <span class="input-mode" id="span-youtube-mode">YOUTUBE MODE</span>
        <span class="key-commands">Use <kbd>Ctrl + Enter</kbd> to send as text</span>
    </div>
    <textarea name="" id="" cols="30" rows="2" class="form-control chatbox" [ngClass]="{'chatbox-link': hasLink, 'chatbox-command': hasCommand}"
        placeholder="Type a message or paste a YouTube link" [(ngModel)]="contents" (keydown.enter)="post($event)" (keydown.control.enter)="post($event)" (keyup)="watchContents()"></textarea>
    <div class="chat-actions row">
        <!--<div class="col-2">
            <button class="btn btn-primary">Options</button>
        </div>
        <div class="col-2">
            <button class="btn btn-default">Emotes</button>
        </div>-->
        <div class="col-12">
            <button *ngIf="!hasLink && !hasCommand" class="btn btn-outline-primary" style="float:right;" (click)="post($event)">
                <svg class="berrybox-svg-button" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 434.16 360.68">
                        <path d="M434.16 0H0v283.32h68.05l-34.87 77.36 171.63-77.36h229.35V0" />
                    </svg>
                Send message
            </button>
            <button *ngIf="hasLink && !hasCommand" class="btn btn-outline-primary" id="link-button" style="float:right;" (click)="post($event)">
                <svg class="berrybox-svg-button" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 457.98 202.99">
<rect width="64.36" height="121.43" y="40.78""/>
<polygon"/>
<rect width="64.36" height="121.43" x="81.45" y="40.78""/>
<rect width="168.34" height="121.43" x="162.89" y="40.78""/>
</svg>
                Submit video</button>
            <button *ngIf="!hasLink && hasCommand" class="btn btn-outline-primary" id="command-button" style="float:right;" (click)="post($event)">Use command</button>
        </div>
    </div>
</div>