<nav class="navbar sticky-top navbar-expand-lg navbar-light bg-faded">
    <a routerLink="/home" class="navbar-brand" (click)="settingsHost.viewContainerRef.clear()">
        <span class="nav-pp">
            <img src="../../../assets/images/berrybox-logo-white.png" alt="" style="width:inherit;">
        </span> Berrybox
    </a>
    <button class="navbar-toggler" type="button" (click)="isMenuCollapsed = !isMenuCollapsed">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" [ngbCollapse]="isMenuCollapsed">
        <ul class="navbar-nav ml-auto">
            <li class="nav-item" *appAuth="true">
                <a class="btn btn-outline-primary-light" (click)="openCreateModal()">Create a box</a>
            </li>
            <li class="nav-item" *appAuth="true">
                <a class="btn btn-outline-primary-light" (click)="openJoinModal()">Join a box</a>
            </li>
            <li class="nav-item" *appAuth="false">
                <a class="btn btn-outline-primary-light" (click)="login()">Log in</a>
            </li>
            <div class="nav-item" *appAuth="false">
                <a class="btn btn-primary" (click)="signup()">Sign up</a>
            </div>
            <li class="nav-item ml-3 user-item" *appAuth="true">
                <div ngbDropdown class="d-inline-block" placement="bottom-right">
                    <div id="nav-dropdown" class="d-flex px-2 py-1" id="user-menu" ngbDropdownToggle>
                        <div class="d-flex justify-content-center align-items-center">
                            <img src="{{pictureLocation}}" class="profile-picture profile-picture-nav" alt="">
                        </div>
                    </div>
                    <div ngbDropdownMenu class="dropdown-menu dropdown-menu-right" aria-labelledby="nav-dropdown">
                        <div class="d-flex text-left pb-2">
                            <img src="{{pictureLocation}}" class="profile-picture profile-picture-md mx-2" alt="">
                            <span class="nav-name my-auto">{{ user?.name }}</span>
                        </div>
                        <div class="dropdown-divider"></div>
                        <div class="text-right">
                            <!-- <a href="friends" class="dropdown-item">Friends</a> -->
                            <a class="dropdown-item" (click)="summonSettings()">Settings</a>
                            <a class="dropdown-item" routerLink="/collection"
                                (click)="settingsHost.viewContainerRef.clear()">Collections</a>
                            <a class="dropdown-item" routerLink="/admin"
                                (click)="settingsHost.viewContainerRef.clear()">Administration</a>
                            <div class="dropdown-divider"></div>
                            <a (click)="logout()" class="dropdown-item">Log out</a>
                        </div>
                    </div>
                </div>
            </li>
        </ul>
    </div>
</nav>
<ng-template settings-host></ng-template>